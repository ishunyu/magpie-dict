<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Magpie Dictionary</title>
</head>

<body>
    <p>Magpie Dictionary</p>
    <input type="text" id="searchbox" onkeydown="searchKeyDown(this)" autofocus/>
    <button onclick="search()">GO</button>
    <div id="results"></div>
</body>

<script>
    function search() {
        var xhttp;
        var searchTerm = document.getElementById("searchbox").value;
        xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                results = this.responseText.split("#");
                text = "<table>";
                results.forEach(row => {
                    text += "<tr>";
                    row.split(";").forEach(col => {
                        text += "<td>" + col + "</td>";
                    })
                    text += "</tr>";
                });
                text += "</table>";
                console.log(text)
                document.getElementById("results").innerHTML = text;
            }
        };
        xhttp.open("GET", "search?searchText="+searchTerm, true);
        xhttp.send();
    }

    function searchKeyDown(ele) {
        if (event.key === 'Enter') {
            search();
        }
    }
</script>

</html>